<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Department Performance Tree View -->
    <record id="view_hr_department_performance_pivot" model="ir.ui.view">
        <field name="name">hr.department.performance.pivot</field>
        <field name="model">ensa.evaluation</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Department Performance Analysis" decoration-success="state=='completed'" decoration-warning="state=='reviewed'" decoration-info="state=='submitted'">
                <field name="employee_id"/>
                <field name="overall_score"/>
                <field name="date"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Training by Department Tree View -->
    <record id="view_hr_training_department_analysis" model="ir.ui.view">
        <field name="name">hr.training.department.analysis</field>
        <field name="model">ensa.training</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Training by Department">
                <field name="employee_id"/>
                <field name="category"/>
                <field name="duration"/>
                <field name="status"/>
            </tree>
        </field>
    </record>

    <!-- Equipment Distribution by Department -->
    <record id="view_hr_equipment_department_analysis" model="ir.ui.view">
        <field name="name">hr.equipment.department.analysis</field>
        <field name="model">ensa.equipment</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Equipment Distribution">
                <field name="name"/>
                <field name="employee_id"/>
                <field name="equipment_type"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Certification Status Dashboard -->
    <record id="view_hr_certification_analysis" model="ir.ui.view">
        <field name="name">hr.certification.analysis</field>
        <field name="model">ensa.employee.certification</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Certification Status">
                <field name="employee_id"/>
                <field name="name"/>
                <field name="issuing_body"/>
                <field name="issue_date"/>
                <field name="expiry_date"/>
            </tree>
        </field>
    </record>

    <!-- Evaluation Status Tree View -->
    <record id="view_ensa_evaluation_analysis" model="ir.ui.view">
        <field name="name">ensa.evaluation.analysis</field>
        <field name="model">ensa.evaluation</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="Evaluation Status" decoration-success="state=='completed'" decoration-warning="state=='reviewed'" decoration-info="state=='submitted'" decoration-danger="state=='draft'">
                <field name="name"/>
                <field name="employee_id"/>
                <field name="date"/>
                <field name="overall_score"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Actions for Department Analytics -->
    <record id="action_department_performance_analysis" model="ir.actions.act_window">
        <field name="name">Department Performance</field>
        <field name="res_model">ensa.evaluation</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_hr_department_performance_pivot"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Visualize department performance metrics through pivot tables and tree views.
            </p>
        </field>
    </record>

    <record id="action_training_analysis" model="ir.actions.act_window">
        <field name="name">Training Analysis</field>
        <field name="res_model">ensa.training</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_hr_training_department_analysis"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Analyze training programs by department and category. Track total training hours per employee.
            </p>
        </field>
    </record>

    <record id="action_equipment_analysis" model="ir.actions.act_window">
        <field name="name">Equipment Distribution</field>
        <field name="res_model">ensa.equipment</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_hr_equipment_department_analysis"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                View equipment distribution across departments and employees.
            </p>
        </field>
    </record>

    <record id="action_certification_analysis" model="ir.actions.act_window">
        <field name="name">Certification Status</field>
        <field name="res_model">ensa.employee.certification</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_hr_certification_analysis"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Monitor certification status across the organization. Track expiry dates and renewals.
            </p>
        </field>
    </record>

    <record id="action_evaluation_status_analysis" model="ir.actions.act_window">
        <field name="name">Evaluation Overview</field>
        <field name="res_model">ensa.evaluation</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_ensa_evaluation_analysis"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Overview of evaluation statuses and performance distribution.
            </p>
        </field>
    </record>

    <!-- Menu Items for Analytics -->
    <menuitem id="menu_ensa_analytics" name="Analytics" parent="menu_ensa_hr_root" sequence="25" action=""/>
    <menuitem id="menu_department_performance" name="Department Performance" parent="menu_ensa_analytics" sequence="5" action="action_department_performance_analysis"/>
    <menuitem id="menu_training_analysis" name="Training Analysis" parent="menu_ensa_analytics" sequence="10" action="action_training_analysis"/>
    <menuitem id="menu_equipment_analysis" name="Equipment Distribution" parent="menu_ensa_analytics" sequence="15" action="action_equipment_analysis"/>
    <menuitem id="menu_certification_analysis" name="Certification Status" parent="menu_ensa_analytics" sequence="20" action="action_certification_analysis"/>
    <menuitem id="menu_evaluation_analysis" name="Evaluation Overview" parent="menu_ensa_analytics" sequence="25" action="action_evaluation_status_analysis"/>

</odoo>
